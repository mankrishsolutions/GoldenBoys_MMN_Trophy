<!DOCTYPE html>
<html>
<head>
<title>Admin Panel</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

<!-- TOP HEADER WITH LOGO -->
<div class="header-banner d-flex flex-column align-items-center justify-content-center text-white">
    <img src="GoldenBoys.jpg" class="header-logo mb-2">
    <h2 class="m-0 fw-bold">MMN Golden Boys Champions League</h2>
</div>
<style>
.header-banner {
    background: linear-gradient(90deg, #005BEA, #00C6FB);
    padding: 20px;
    text-align: center;
}
.header-logo {
    width: 120px;
    border-radius: 10px;
    box-shadow: 0px 2px 8px rgba(0,0,0,0.4);
}
</style>

<div class="container my-4">

<h3>Admin Dashboard</h3>
<hr>

<table class="table table-bordered">
<thead class="table-dark">
<tr>
  <th>Team</th>
  <th>Captain</th>
  <th>Payment</th>
  <th>Amount</th>
  <th>View</th>
</tr>
</thead>

<tbody id="adminTable"></tbody>
</table>

<script>
const apiURL = "https://script.google.com/macros/s/AKfycbwxmyNE0hsdZaWynzebm1enPzssfdtqox0whmy_ZbuBBP2K1R0JF13JVV-UHkvxY5HRJQ/exec";

// Load teams with payment details
async function loadAdmin() {

  const res = await fetch(apiURL + "?action=getAllTeamDetails");
  const teams = await res.json();

  const tbody = document.getElementById("adminTable");
  tbody.innerHTML = "";

  teams.forEach(t => {
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${t.teamName}</td>
      <td>${t.captainName}</td>
      <td>${t.paymentStatus}</td>
      <td>${t.paymentAmount}</td>
      <td><a class="btn btn-primary btn-sm" href="team-details.html?team=${encodeURIComponent(t.teamName)}">Open</a></td>
    `;
    tbody.appendChild(tr);
  });
}

loadAdmin();

</script>

</div>
</body>
</html>
